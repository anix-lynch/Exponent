# ðŸ“š FORMULA LIBRARY - 30 Canonical Patterns (+ Sub-patterns)

**Purpose:** Anti-hallucination. Copy formulas from here, don't generate.

---
## ðŸ“‹ Quick Reference (All Patterns in Numerical Order)

### P Patterns (Product/Problem-Solving)
- [P1 - Metric Drop Diagnosis](#p1---metric-drop-diagnosis)
- [P2 - NSM + KPI Ladder](#p2---nsm--kpi-ladder) (P2A, P2B1-P2B9)
- [P3 - Funnel Analysis](#p3---funnel-analysis)
- [P4 - Cohort / Retention / Churn](#p4---cohort--retention--churn)
- [P5 - Segmentation](#p5---segmentation)
- [P6 - Prioritization](#p6---prioritization)
- [P7 - Tradeoff Framing](#p7---tradeoff-framing)
- [P8 - Experiment Design](#p8---experiment-design)
- [P9 - Decision Under Uncertainty](#p9---decision-under-uncertainty)
- [P10 - Executive Communication](#p10---executive-communication)
- [P11 - Stakeholder Alignment](#p11---stakeholder-alignment)
- [P12 - Operational Excellence](#p12---operational-excellence)
- [P13 - Product Design](#p13---product-design) (P13A-P13E, P13B subcategories)
- [P14 - Revenue Optimization / Growth](#p14---revenue-optimization--growth)
- [P15 - Behavioral](#p15---behavioral) (P15A-P15F)
- [P16 - Intent / Motivation](#p16---intent--motivation)

### L Patterns (Leverage/Technical)
- [L1 - Data Trust](#l1---data-trust)
- [L2 - Scale & Capacity](#l2---scale--capacity)
- [L3 - Cost / ROI](#l3---cost--roi)
- [L4 - Constraints](#l4---constraints)
- [L5 - Observability](#l5---observability)
- [L6 - Ops Tradeoffs](#l6---ops-tradeoffs)
- [L7 - Data Modeling](#l7---data-modeling)
- [L8 - Market Analysis](#l8---market-analysis)
- [L9 - Financial Sensitivity](#l9---financial-sensitivity)
- [L10 - Process Optimization](#l10---process-optimization)
- [L11 - Risk Mitigation](#l11---risk-mitigation)
- [L12 - Metrics Interpretation](#l12---metrics-interpretation)
- [L13 - SQL Reasoning](#l13---sql-reasoning)
- [L14 - System Design (Conceptual)](#l14---system-design-conceptual)

---

## ðŸŸ¢ NORTHSTAR FORMULAS (16)

### P1 - Metric Drop Diagnosis
**Formula:** `Clarify Metric â†’ Segment â†’ Hypothesize â†’ Data Check â†’ Action`

[ðŸ“– **View Detailed Guide**](./P1_metric_drop/P1_metric_drop.md)

---

### P2 - NSM + KPI Ladder

**P2A - North Star Metric**
**Formula:** `Define NSM â†’ Input KPIs â†’ Leading Indicators â†’ Guardrails`

[ðŸ“– **View Detailed Guide**](./P2A_north_star_metric/P2A_north_star_metric.md)

**P2B - KPI Ladder (by Business Model)**

- **P2B1 - Social Media**: DAU/MAU, engagement, time spent
  [ðŸ“– **View Detailed Guide**](./P2B1_social_media/P2B1_social_media.md)

- **P2B2 - On-Demand**: Time to match, driver utilization, delivery time
  [ðŸ“– **View Detailed Guide**](./P2B2_on_demand/P2B2_on_demand.md)

- **P2B3 - Marketplace**: Supply/demand balance, GMV, take rate
  [ðŸ“– **View Detailed Guide**](./P2B3_marketplace/P2B3_marketplace.md)

- **P2B4 - Subscription**: Churn, LTV, MRR, retention
  [ðŸ“– **View Detailed Guide**](./P2B4_subscription/P2B4_subscription.md)

- **P2B5 - SaaS / Enterprise**: ARR, NRR, CAC, churn
  [ðŸ“– **View Detailed Guide**](./P2B5_saas_enterprise/P2B5_saas_enterprise.md)

- **P2B6 - Advertising**: CTR, CPC, ROAS, conversion rate
  [ðŸ“– **View Detailed Guide**](./P2B6_advertising/P2B6_advertising.md)

- **P2B7 - Media / Streaming**: Watch time, retention, content engagement
  [ðŸ“– **View Detailed Guide**](./P2B7_media_streaming/P2B7_media_streaming.md)

- **P2B8 - E-commerce / Fintech**: Conversion rate, AOV, transaction volume
  [ðŸ“– **View Detailed Guide**](./P2B8_ecommerce_fintech/P2B8_ecommerce_fintech.md)

- **P2B9 - General Metrics**: Varies by product/feature context
  [ðŸ“– **View Detailed Guide**](./P2B9_general_metrics/P2B9_general_metrics.md)

---

### P3 - Funnel Analysis
**Formula:** `Define Funnel Steps â†’ Measure Drop-off â†’ Identify Friction â†’ Hypothesize Fix â†’ Test`

[ðŸ“– **View Detailed Guide**](./P3_funnel_analysis/P3_funnel_analysis.md)

---

### P4 - Cohort / Retention / Churn
**Formula:** `Define Cohorts â†’ Measure Retention â†’ Identify Churn Drivers â†’ Hypothesize â†’ Fix`

[ðŸ“– **View Detailed Guide**](./P4_cohort_retention_churn/P4_cohort_retention_churn.md)

---

### P5 - Segmentation
**Formula:** `(Persona Ã— Behavior Ã— Value) â†’ Rank â†’ Focus Top Segments`

[ðŸ“– **View Detailed Guide**](./P5_segmentation/P5_segmentation.md)

---

### P6 - Prioritization
**Formula:** `Impact Ã— Confidence Ã— Ease â†’ RICE Score â†’ Decide + Communicate`

[ðŸ“– **View Detailed Guide**](./P6_prioritization/P6_prioritization.md)

---

### P7 - Tradeoff Framing
**Formula:** `Define Options â†’ Winners/Losers â†’ Guardrails â†’ Decide + Communicate`

[ðŸ“– **View Detailed Guide**](./P7_tradeoff_framing/P7_tradeoff_framing.md)

---

### P8 - Experiment Design
**Formula:** `Hypothesis â†’ Metric â†’ Design â†’ Run â†’ Validate â†’ Decide`

[ðŸ“– **View Detailed Guide**](./P8_experiment_design/P8_experiment_design.md)

---

### P9 - Decision Under Uncertainty
**Formula:** `Clarify Assumptions â†’ Identify Risks â†’ Validation Plan â†’ Decide`

[ðŸ“– **View Detailed Guide**](./P9_decision_uncertainty/P9_decision_uncertainty.md)

---

### P10 - Executive Communication
**Formula:** `Context â†’ Insight â†’ Recommendation â†’ Next Steps`

[ðŸ“– **View Detailed Guide**](./P10_executive_communication/P10_executive_communication.md)

---

### P11 - Stakeholder Alignment
**Formula:** `Understand Incentives â†’ Address Concerns â†’ Build Coalition â†’ Decide`

[ðŸ“– **View Detailed Guide**](./P11_stakeholder_alignment/P11_stakeholder_alignment.md)

---

### P12 - Operational Excellence
**Formula:** `Assess Current State â†’ Identify Risks â†’ Prioritize Fixes â†’ Communicate Plan â†’ Monitor`

[ðŸ“– **View Detailed Guide**](./P12_operational_excellence/P12_operational_excellence.md)

---

### P13 - Product Design

**P13A - Consumer / Single-User Products**
**Formula:** `User Context â†’ Pain Points â†’ Core Design â†’ Tradeoffs â†’ Risks`

[ðŸ“– **View Detailed Guide**](./P13A_consumer_singleuser/P13A_consumer_singleuser.md)

**P13B - Consumer Platforms (Engagement-Driven)**

**P13B_Social_Community - Social/Community Platforms**
**Formula:** `Users â†’ Jobs â†’ Core Loop â†’ Key Features â†’ Tradeoffs â†’ Success Metrics`

[ðŸ“– **View Detailed Guide**](./P13B_social_community/P13B_social_community.md)

**P13B_Content_Media - Content/Media Platforms**
**Formula:** `Users â†’ Jobs â†’ Core Loop â†’ Key Features â†’ Tradeoffs â†’ Success Metrics`

[ðŸ“– **View Detailed Guide**](./P13B_content_media/P13B_content_media.md)

**P13B_Travel_Transportation - Travel/Transportation Platforms**
**Formula:** `Users â†’ Jobs â†’ Core Loop â†’ Key Features â†’ Tradeoffs â†’ Success Metrics`

[ðŸ“– **View Detailed Guide**](./P13B_travel_transportation/P13B_travel_transportation.md)

**P13B_Messaging_Communication - Messaging/Communication Platforms**
**Formula:** `Users â†’ Jobs â†’ Core Loop â†’ Key Features â†’ Tradeoffs â†’ Success Metrics`

[ðŸ“– **View Detailed Guide**](./P13B_messaging_communication/P13B_messaging_communication.md)

**P13B_Ecommerce_Shopping - E-commerce/Shopping Platforms**
**Formula:** `Users â†’ Jobs â†’ Core Loop â†’ Key Features â†’ Tradeoffs â†’ Success Metrics`

[ðŸ“– **View Detailed Guide**](./P13B_ecommerce_shopping/P13B_ecommerce_shopping.md)

**P13B_General - Consumer Platforms (General)**
**Formula:** `Users â†’ Jobs â†’ Core Loop â†’ Key Features â†’ Tradeoffs â†’ Success Metrics`

[ðŸ“– **View Detailed Guide**](./P13B_general/P13B_general.md)

**P13C - B2B / SaaS / Enterprise**
**Formula:** `User vs Buyer â†’ Workflow Pain â†’ MVP â†’ Adoption Risks â†’ Success Metrics`

[ðŸ“– **View Detailed Guide**](./P13C_b2b_saas/P13C_b2b_saas.md)

**P13D - Marketplace / Two-Sided Platforms**
**Formula:** `Sides â†’ Value Exchange â†’ Liquidity Risks â†’ MVP â†’ Balancing Levers`

[ðŸ“– **View Detailed Guide**](./P13D_marketplace/P13D_marketplace.md)

**P13E - Strategy / Vision / Roadmapping**
**Formula:** `Vision â†’ User Segments â†’ Strategic Bets â†’ Phasing â†’ Risks`

[ðŸ“– **View Detailed Guide**](./P13E_strategy_vision/P13E_strategy_vision.md)

---

### P14 - Revenue Optimization / Growth
**Formula:** `Levers (Price, Volume, Mix) â†’ Test â†’ Measure â†’ Iterate`

[ðŸ“– **View Detailed Guide**](./P14_revenue_optimization/P14_revenue_optimization.md)

---

### P15 - Behavioral

**P15A - Personal & Motivation**
**Formula:** `Situation â†’ Task â†’ Action â†’ Result (STAR)`

**Intent:** Who are you, why you do what you do. No right/wrong answers.

[ðŸ“– **View Detailed Guide**](./P15A_personal_motivation/P15A_personal_motivation.md)

**P15B - Execution & Ownership**
**Formula:** `Situation â†’ Task â†’ Action â†’ Result (STAR)`

**Intent:** Can you get things done under constraints. Right/wrong depends on judgment.

[ðŸ“– **View Detailed Guide**](./P15B_execution_ownership/P15B_execution_ownership.md)

**P15C - Decision-Making & Tradeoffs**
**Formula:** `Situation â†’ Task â†’ Action â†’ Result (STAR)`

**Intent:** How you think when choices are hard. Evaluated on structure + judgment.

[ðŸ“– **View Detailed Guide**](./P15C_decision_tradeoffs/P15C_decision_tradeoffs.md)

**P15D - Problem Solving & Learning**
**Formula:** `Situation â†’ Task â†’ Action â†’ Result (STAR)`

**Intent:** How you approach unknowns and complexity. Judged on thinking, not correctness.

[ðŸ“– **View Detailed Guide**](./P15D_problem_solving_learning/P15D_problem_solving_learning.md)

**P15E - Leadership & Collaboration**
**Formula:** `Situation â†’ Task â†’ Action â†’ Result (STAR)`

**Intent:** How you work with people. Soft skills, but critical.

[ðŸ“– **View Detailed Guide**](./P15E_leadership_collaboration/P15E_leadership_collaboration.md)

**P15F - Product Sense (Behavioral)**
**Formula:** `Situation â†’ Task â†’ Action â†’ Result (STAR)`

**Intent:** Product thinking through your past actions. Not product cases, not metrics.

[ðŸ“– **View Detailed Guide**](./P15F_product_sense/P15F_product_sense.md)

---

### P16 - Intent / Motivation
**Formula:** `Company â†’ Role â†’ Mission â†’ Personal Fit â†’ Why Now`

[ðŸ“– **View Detailed Guide**](./P16_intent_motivation/P16_intent_motivation.md)

---

## ðŸŸ¡ LHF FORMULAS (14)

### L1 - Data Trust
**Formula:** `Source â†’ Freshness â†’ Completeness â†’ Bias â†’ Sanity Checks`

[ðŸ“– **View Detailed Guide**](./L1_data_trust/L1_data_trust.md)

---

### L2 - Scale & Capacity
**Formula:** `Current Load â†’ 10Ã— Projection â†’ Bottlenecks â†’ Mitigation`

[ðŸ“– **View Detailed Guide**](./L2_scale_capacity/L2_scale_capacity.md)

---

### L3 - Cost / ROI
**Formula:** `Cost Drivers â†’ Benefits â†’ Breakeven â†’ Decide`

[ðŸ“– **View Detailed Guide**](./L3_cost_roi/L3_cost_roi.md)

---

### L4 - Constraints
**Formula:** `Legal â†’ Technical â†’ Organizational â†’ Timeline â†’ Prioritize`

[ðŸ“– **View Detailed Guide**](./L4_constraints/L4_constraints.md)

---

### L5 - Observability
**Formula:** `Key Metrics â†’ Alerts â†’ Dashboards â†’ Escalation`

[ðŸ“– **View Detailed Guide**](./L5_observability/L5_observability.md)

---

### L6 - Ops Tradeoffs
**Formula:** `Speed vs Quality vs Reliability â†’ SLAs â†’ Error Budget â†’ Decide`

[ðŸ“– **View Detailed Guide**](./L6_ops_tradeoffs/L6_ops_tradeoffs.md)

---

### L7 - Data Modeling
**Formula:** `Entities â†’ Relationships â†’ Metrics â†’ Grain â†’ Validate`

[ðŸ“– **View Detailed Guide**](./L7_data_modeling/L7_data_modeling.md)

---

### L8 - Market Analysis
**Formula:** `Competitors â†’ Differentiation â†’ Market Conditions â†’ Strategy`

[ðŸ“– **View Detailed Guide**](./L8_market_analysis/L8_market_analysis.md)

---

### L9 - Financial Sensitivity
**Formula:** `Levers (Price, Volume, Churn) â†’ Impact â†’ Prioritize`

[ðŸ“– **View Detailed Guide**](./L9_financial_sensitivity/L9_financial_sensitivity.md)

---

### L10 - Process Optimization
**Formula:** `Map Workflow â†’ Identify Bottlenecks â†’ Optimize â†’ Measure`

[ðŸ“– **View Detailed Guide**](./L10_process_optimization/L10_process_optimization.md)

---

### L11 - Risk Mitigation
**Formula:** `Enumerate Risks â†’ Blast Radius â†’ Mitigations â†’ Monitor`

[ðŸ“– **View Detailed Guide**](./L11_risk_mitigation/L11_risk_mitigation.md)

---

### L12 - Metrics Interpretation
**Formula:** `Metric Moved â†’ Proxy Validity â†’ Gaming Risk â†’ Decide`

[ðŸ“– **View Detailed Guide**](./L12_metrics_interpretation/L12_metrics_interpretation.md)

---

### L13 - SQL Reasoning
**Formula:** `Conceptual Join â†’ Aggregation Logic â†’ Filter Logic â†’ Output`

[ðŸ“– **View Detailed Guide**](./L13_sql_reasoning/L13_sql_reasoning.md)

---

### L14 - System Design (Conceptual)
**Formula:** `Components â†’ Data Flow â†’ Boundaries â†’ Scale Considerations`

[ðŸ“– **View Detailed Guide**](./L14_system_design_conceptual/L14_system_design_conceptual.md)

---

## ðŸ”´ IGNORE (No Formula Needed)
**Formula:** `N/A`
**Notes:** Coding, ML theory, brain teasers, low ROI

---

## ðŸ“‘ TABLE OF CONTENTS

### ðŸŸ¢ NORTHSTAR FORMULAS (16)
- [P1 - Metric Drop Diagnosis](#p1---metric-drop-diagnosis)
- [P2 - NSM + KPI Ladder](#p2---nsm--kpi-ladder)
  - [P2A - North Star Metric](#p2a---north-star-metric)
  - [P2B1-P2B9 - KPI Ladder (by Business Model)](#p2b---kpi-ladder-by-business-model)
- [P3 - Funnel Analysis](#p3---funnel-analysis)
- [P4 - Cohort / Retention / Churn](#p4---cohort--retention--churn)
- [P5 - Segmentation](#p5---segmentation)
- [P6 - Prioritization](#p6---prioritization)
- [P7 - Tradeoff Framing](#p7---tradeoff-framing)
- [P8 - Experiment Design](#p8---experiment-design)
- [P9 - Decision Under Uncertainty](#p9---decision-under-uncertainty)
- [P10 - Executive Communication](#p10---executive-communication)
- [P11 - Stakeholder Alignment](#p11---stakeholder-alignment)
- [P12 - Operational Excellence](#p12---operational-excellence)
- [P13 - Product Design](#p13---product-design)
  - [P13A - Consumer / Single-User Products](#p13a---consumer--single-user-products)
  - [P13B - Consumer Platforms (Engagement-Driven)](#p13b---consumer-platforms-engagement-driven)
    - [P13B_Social_Community - Social/Community Platforms](#p13b_social_community---socialcommunity-platforms)
    - [P13B_Content_Media - Content/Media Platforms](#p13b_content_media---contentmedia-platforms)
    - [P13B_Travel_Transportation - Travel/Transportation Platforms](#p13b_travel_transportation---traveltransportation-platforms)
    - [P13B_Messaging_Communication - Messaging/Communication Platforms](#p13b_messaging_communication---messagingcommunication-platforms)
    - [P13B_Ecommerce_Shopping - E-commerce/Shopping Platforms](#p13b_ecommerce_shopping---e-commerceshopping-platforms)
    - [P13B_General - Consumer Platforms (General)](#p13b_general---consumer-platforms-general)
  - [P13C - B2B / SaaS / Enterprise](#p13c---b2b--saas--enterprise)
  - [P13D - Marketplace / Two-Sided Platforms](#p13d---marketplace--two-sided-platforms)
  - [P13E - Strategy / Vision / Roadmapping](#p13e---strategy--vision--roadmapping)
- [P14 - Revenue Optimization / Growth](#p14---revenue-optimization--growth)
- [P15 - Behavioral](#p15---behavioral)
  - [P15A - Personal & Motivation](#p15a---personal--motivation)
  - [P15B - Execution & Ownership](#p15b---execution--ownership)
  - [P15C - Decision-Making & Tradeoffs](#p15c---decision-making--tradeoffs)
  - [P15D - Problem Solving & Learning](#p15d---problem-solving--learning)
  - [P15E - Leadership & Collaboration](#p15e---leadership--collaboration)
  - [P15F - Product Sense (Behavioral)](#p15f---product-sense-behavioral)
- [P16 - Intent / Motivation](#p16---intent--motivation)

### ðŸŸ¡ LHF FORMULAS (14)
- [L1 - Data Trust](#l1---data-trust)
- [L2 - Scale & Capacity](#l2---scale--capacity)
- [L3 - Cost / ROI](#l3---cost--roi)
- [L4 - Constraints](#l4---constraints)
- [L5 - Observability](#l5---observability)
- [L6 - Ops Tradeoffs](#l6---ops-tradeoffs)
- [L7 - Data Modeling](#l7---data-modeling)
- [L8 - Market Analysis](#l8---market-analysis)
- [L9 - Financial Sensitivity](#l9---financial-sensitivity)
- [L10 - Process Optimization](#l10---process-optimization)
- [L11 - Risk Mitigation](#l11---risk-mitigation)
- [L12 - Metrics Interpretation](#l12---metrics-interpretation)
- [L13 - SQL Reasoning](#l13---sql-reasoning)
- [L14 - System Design (Conceptual)](#l14---system-design-conceptual)

### ðŸ”´ IGNORE
- [IGNORE](#ignore)
