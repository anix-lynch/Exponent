# ðŸ“š FORMULA LIBRARY - 30 Canonical Patterns (+ Sub-patterns)

**Purpose:** Anti-hallucination. Copy formulas from here, don't generate.

---
## ðŸ“‹ Quick Reference (All Patterns in Numerical Order)

### P Patterns (Product/Problem-Solving)
- [P01 - Metric Drop Diagnosis](#p1---metric-drop-diagnosis)
- [P02 - NSM + KPI Ladder](#p2---nsm--kpi-ladder) (P02A, P02B1-P02B9)
- [P03 - Funnel Analysis](#p3---funnel-analysis)
- [P04 - Cohort / Retention / Churn](#p4---cohort--retention--churn)
- [P05 - Segmentation](#p5---segmentation)
- [P06 - Prioritization](#p6---prioritization)
- [P07 - Tradeoff Framing](#p7---tradeoff-framing)
- [P08 - Experiment Design](#p8---experiment-design)
- [P09 - Decision Under Uncertainty](#p9---decision-under-uncertainty)
- [P10 - Executive Communication](#p10---executive-communication)
- [P11 - Stakeholder Alignment](#p11---stakeholder-alignment)
- [P12 - Operational Excellence](#p12---operational-excellence)
- [P13 - Product Design](#p13---product-design) (P13A-P13E, P13B subcategories)
- [P14 - Revenue Optimization / Growth](#p14---revenue-optimization--growth)
- [P15 - Behavioral](#p15---behavioral) (P15A-P15F)
- [P16 - Intent / Motivation](#p16---intent--motivation)

### L Patterns (Leverage/Technical)
- [L01 - Data Trust](#l1---data-trust)
- [L02 - Scale & Capacity](#l2---scale--capacity)
- [L03 - Cost / ROI](#l3---cost--roi)
- [L04 - Constraints](#l4---constraints)
- [L05 - Observability](#l5---observability)
- [L06 - Ops Tradeoffs](#l6---ops-tradeoffs)
- [L07 - Data Modeling](#l7---data-modeling)
- [L08 - Market Analysis](#l8---market-analysis)
- [L09 - Financial Sensitivity](#l9---financial-sensitivity)
- [L10 - Process Optimization](#l10---process-optimization)
- [L11 - Risk Mitigation](#l11---risk-mitigation)
- [L12 - Metrics Interpretation](#l12---metrics-interpretation)
- [L13 - SQL Reasoning](#l13---sql-reasoning)
- [L14 - System Design (Conceptual)](#l14---system-design-conceptual)

---

## ðŸŸ¢ NORTHSTAR FORMULAS (16)

### P1 - Metric Drop Diagnosis
**Formula:** `Clarify Metric â†’ Segment â†’ Hypothesize â†’ Data Check â†’ Action`

[ðŸ“– **View Detailed Guide**](../pattern_bank_answered/01_P1_metric_drop.csv)

---

### P2 - NSM + KPI Ladder

**P02A - North Star Metric**
**Formula:** `Define NSM â†’ Input KPIs â†’ Leading Indicators â†’ Guardrails`

[ðŸ“– **View Detailed Guide**](../pattern_bank_answered/02_P2_KPI_north_star_metric.csv)

**P02B - KPI Ladder (by Business Model)**

- **P02B1 - Social Media**: DAU/MAU, engagement, time spent
  [ðŸ“– **View Detailed Guide**](../pattern_bank_answered/02_P2_KPI_social_media.csv)

- **P02B2 - On-Demand**: Time to match, driver utilization, delivery time
  [ðŸ“– **View Detailed Guide**](../pattern_bank_answered/02_P2_KPI_on_demand.csv)

- **P02B3 - Marketplace**: Supply/demand balance, GMV, take rate
  [ðŸ“– **View Detailed Guide**](../pattern_bank_answered/02_P2_KPI_marketplace.csv)

- **P02B4 - Subscription**: Churn, LTV, MRR, retention
  [ðŸ“– **View Detailed Guide**](../pattern_bank_answered/02_P2_KPI_subscription.csv)

- **P02B5 - SaaS / Enterprise**: ARR, NRR, CAC, churn
  [ðŸ“– **View Detailed Guide**](../pattern_bank_answered/02_P2_KPI_saas_enterprise.csv)

- **P02B6 - Advertising**: CTR, CPC, ROAS, conversion rate
  [ðŸ“– **View Detailed Guide**](../pattern_bank_answered/02_P2_KPI_advertising.csv)

- **P02B7 - Media / Streaming**: Watch time, retention, content engagement
  [ðŸ“– **View Detailed Guide**](../pattern_bank_answered/02_P2_KPI_media_streaming.csv)

- **P02B8 - E-commerce / Fintech**: Conversion rate, AOV, transaction volume
  [ðŸ“– **View Detailed Guide**](../pattern_bank_answered/02_P2_KPI_ecommerce_fintech.csv)

- **P02B9 - General Metrics**: Varies by product/feature context
  [ðŸ“– **View Detailed Guide**](../pattern_bank_answered/02_P2_KPI_general.csv)

---

### P3 - Funnel Analysis
**Formula:** `Define Funnel Steps â†’ Measure Drop-off â†’ Identify Friction â†’ Hypothesize Fix â†’ Test`

[ðŸ“– **View Detailed Guide**](../pattern_bank_answered/03_P3_funnel_analysis.csv)

---

### P4 - Cohort / Retention / Churn
**Formula:** `Define Cohorts â†’ Measure Retention â†’ Identify Churn Drivers â†’ Hypothesize â†’ Fix`

[ðŸ“– **View Detailed Guide**](../pattern_bank_answered/04_P4_cohort_retention_churn.csv)

---

### P5 - Segmentation
**Formula:** `(Persona Ã— Behavior Ã— Value) â†’ Rank â†’ Focus Top Segments`

[ðŸ“– **View Detailed Guide**](../pattern_bank_answered/05_P5_segmentation.csv)

---

### P6 - Prioritization
**Formula:** `Impact Ã— Confidence Ã— Ease â†’ RICE Score â†’ Decide + Communicate`

[ðŸ“– **View Detailed Guide**](../pattern_bank_answered/06_P6_prioritization.csv)

---

### P7 - Tradeoff Framing
**Formula:** `Define Options â†’ Winners/Losers â†’ Guardrails â†’ Decide + Communicate`

[ðŸ“– **View Detailed Guide**](../pattern_bank_answered/07_P7_tradeoff_framing.csv)

---

### P8 - Experiment Design
**Formula:** `Hypothesis â†’ Metric â†’ Design â†’ Run â†’ Validate â†’ Decide`

[ðŸ“– **View Detailed Guide**](../pattern_bank_answered/08_P8_experiment_design.csv)

---

### P9 - Decision Under Uncertainty
**Formula:** `Clarify Assumptions â†’ Identify Risks â†’ Validation Plan â†’ Decide`

[ðŸ“– **View Detailed Guide**](../pattern_bank_answered/09_P9_decision_uncertainty.csv)

---

### P10 - Executive Communication
**Formula:** `Context â†’ Insight â†’ Recommendation â†’ Next Steps`

[ðŸ“– **View Detailed Guide**](../pattern_bank_answered/10_P10_executive_communication.csv)

---

### P11 - Stakeholder Alignment
**Formula:** `Understand Incentives â†’ Address Concerns â†’ Build Coalition â†’ Decide`

[ðŸ“– **View Detailed Guide**](../pattern_bank_answered/11_P11_stakeholder_alignment.csv)

---

### P12 - Operational Excellence
**Formula:** `Assess Current State â†’ Identify Risks â†’ Prioritize Fixes â†’ Communicate Plan â†’ Monitor`

[ðŸ“– **View Detailed Guide**](../pattern_bank_answered/12_P12_operational_excellence.csv)

---

### P13 - Product Design

**P13A - Consumer / Single-User Products**
**Formula:** `User Context â†’ Pain Points â†’ Core Design â†’ Tradeoffs â†’ Risks`

[ðŸ“– **View Detailed Guide**](../pattern_bank_answered/13_P13_design_Consumer_SingleUser.csv)

**P13B - Consumer Platforms (Engagement-Driven)**

**P13B_Social_Community - Social/Community Platforms**
**Formula:** `Users â†’ Jobs â†’ Core Loop â†’ Key Features â†’ Tradeoffs â†’ Success Metrics`

[ðŸ“– **View Detailed Guide**](../pattern_bank_answered/13_P13_design_Consumer_Platform_Social_Community.csv)

**P13B_Content_Media - Content/Media Platforms**
**Formula:** `Users â†’ Jobs â†’ Core Loop â†’ Key Features â†’ Tradeoffs â†’ Success Metrics`

[ðŸ“– **View Detailed Guide**](../pattern_bank_answered/13_P13_design_Consumer_Platform_Content_Media.csv)

**P13B_Travel_Transportation - Travel/Transportation Platforms**
**Formula:** `Users â†’ Jobs â†’ Core Loop â†’ Key Features â†’ Tradeoffs â†’ Success Metrics`

[ðŸ“– **View Detailed Guide**](../pattern_bank_answered/13_P13_design_Consumer_Platform_Travel_Transportation.csv)

**P13B_Messaging_Communication - Messaging/Communication Platforms**
**Formula:** `Users â†’ Jobs â†’ Core Loop â†’ Key Features â†’ Tradeoffs â†’ Success Metrics`

[ðŸ“– **View Detailed Guide**](../pattern_bank_answered/13_P13_design_Consumer_Platform_Messaging_Communication.csv)

**P13B_Ecommerce_Shopping - E-commerce/Shopping Platforms**
**Formula:** `Users â†’ Jobs â†’ Core Loop â†’ Key Features â†’ Tradeoffs â†’ Success Metrics`

[ðŸ“– **View Detailed Guide**](../pattern_bank_answered/13_P13_design_Consumer_Platform_Ecommerce_Shopping.csv)

**P13B_General - Consumer Platforms (General)**
**Formula:** `Users â†’ Jobs â†’ Core Loop â†’ Key Features â†’ Tradeoffs â†’ Success Metrics`

[ðŸ“– **View Detailed Guide**](../pattern_bank_answered/13_P13_design_Consumer_Platform_General.csv)

**P13C - B2B / SaaS / Enterprise**
**Formula:** `User vs Buyer â†’ Workflow Pain â†’ MVP â†’ Adoption Risks â†’ Success Metrics`

[ðŸ“– **View Detailed Guide**](../pattern_bank_answered/13_P13_design_B2B_SaaS.csv)

**P13D - Marketplace / Two-Sided Platforms**
**Formula:** `Sides â†’ Value Exchange â†’ Liquidity Risks â†’ MVP â†’ Balancing Levers`

[ðŸ“– **View Detailed Guide**](../pattern_bank_answered/13_P13_design_Marketplace.csv)

**P13E - Strategy / Vision / Roadmapping**
**Formula:** `Vision â†’ User Segments â†’ Strategic Bets â†’ Phasing â†’ Risks`

[ðŸ“– **View Detailed Guide**](../pattern_bank_answered/13_P13_design_Strategy_Vision.csv)

---

### P14 - Revenue Optimization / Growth
**Formula:** `Levers (Price, Volume, Mix) â†’ Test â†’ Measure â†’ Iterate`

[ðŸ“– **View Detailed Guide**](../pattern_bank_answered/14_P14_revenue_optimization.csv)

---

### P15 - Behavioral

**P15A - Personal & Motivation**
**Formula:** `Situation â†’ Task â†’ Action â†’ Result (STAR)`

**Intent:** Who are you, why you do what you do. No right/wrong answers.

[ðŸ“– **View Detailed Guide**](../pattern_bank_answered/15_P15_behavior_Personal_Motivation.csv)

**P15B - Execution & Ownership**
**Formula:** `Situation â†’ Task â†’ Action â†’ Result (STAR)`

**Intent:** Can you get things done under constraints. Right/wrong depends on judgment.

[ðŸ“– **View Detailed Guide**](../pattern_bank_answered/15_P15_behavior_Execution_Ownership.csv)

**P15C - Decision-Making & Tradeoffs**
**Formula:** `Situation â†’ Task â†’ Action â†’ Result (STAR)`

**Intent:** How you think when choices are hard. Evaluated on structure + judgment.

[ðŸ“– **View Detailed Guide**](../pattern_bank_answered/15_P15_behavior_Decision_Tradeoffs.csv)

**P15D - Problem Solving & Learning**
**Formula:** `Situation â†’ Task â†’ Action â†’ Result (STAR)`

**Intent:** How you approach unknowns and complexity. Judged on thinking, not correctness.

[ðŸ“– **View Detailed Guide**](../pattern_bank_answered/15_P15_behavior_Problem_Solving_Learning.csv)

**P15E - Leadership & Collaboration**
**Formula:** `Situation â†’ Task â†’ Action â†’ Result (STAR)`

**Intent:** How you work with people. Soft skills, but critical.

[ðŸ“– **View Detailed Guide**](../pattern_bank_answered/15_P15_behavior_Leadership_Collaboration.csv)

**P15F - Product Sense (Behavioral)**
**Formula:** `Situation â†’ Task â†’ Action â†’ Result (STAR)`

**Intent:** Product thinking through your past actions. Not product cases, not metrics.

[ðŸ“– **View Detailed Guide**](../pattern_bank_answered/15_P15_behavior_Product_Sense.csv)

---

### P16 - Intent / Motivation
**Formula:** `Company â†’ Role â†’ Mission â†’ Personal Fit â†’ Why Now`

[ðŸ“– **View Detailed Guide**](../pattern_bank_answered/16_P16_intent_motivation.csv)

---

## ðŸŸ¡ LHF FORMULAS (14)

### L1 - Data Trust
**Formula:** `Source â†’ Freshness â†’ Completeness â†’ Bias â†’ Sanity Checks`

[ðŸ“– **View Detailed Guide**](../pattern_bank_answered/13_L1_data_trust.csv)

---

### L2 - Scale & Capacity
**Formula:** `Current Load â†’ 10Ã— Projection â†’ Bottlenecks â†’ Mitigation`

[ðŸ“– **View Detailed Guide**](../pattern_bank_answered/14_L2_scale_capacity.csv)

---

### L3 - Cost / ROI
**Formula:** `Cost Drivers â†’ Benefits â†’ Breakeven â†’ Decide`

[ðŸ“– **View Detailed Guide**](../pattern_bank_answered/15_L3_cost_roi.csv)

---

### L4 - Constraints
**Formula:** `Legal â†’ Technical â†’ Organizational â†’ Timeline â†’ Prioritize`

[ðŸ“– **View Detailed Guide**](../pattern_bank_answered/16_L4_constraints.csv)

---

### L5 - Observability
**Formula:** `Key Metrics â†’ Alerts â†’ Dashboards â†’ Escalation`

[ðŸ“– **View Detailed Guide**](../pattern_bank_answered/17_L5_observability.csv)

---

### L6 - Ops Tradeoffs
**Formula:** `Speed vs Quality vs Reliability â†’ SLAs â†’ Error Budget â†’ Decide`

[ðŸ“– **View Detailed Guide**](../pattern_bank_answered/17_L6_ops_tradeoffs.csv)

---

### L7 - Data Modeling
**Formula:** `Entities â†’ Relationships â†’ Metrics â†’ Grain â†’ Validate`

[ðŸ“– **View Detailed Guide**](../pattern_bank_answered/18_L7_data_modeling.csv)

---

### L8 - Market Analysis
**Formula:** `Competitors â†’ Differentiation â†’ Market Conditions â†’ Strategy`

[ðŸ“– **View Detailed Guide**](../pattern_bank_answered/19_L8_market_analysis.csv)

---

### L9 - Financial Sensitivity
**Formula:** `Levers (Price, Volume, Churn) â†’ Impact â†’ Prioritize`

[ðŸ“– **View Detailed Guide**](../pattern_bank_answered/20_L9_financial_sensitivity.csv)

---

### L10 - Process Optimization
**Formula:** `Map Workflow â†’ Identify Bottlenecks â†’ Optimize â†’ Measure`

[ðŸ“– **View Detailed Guide**](../pattern_bank_answered/21_L10_process_optimization.csv)

---

### L11 - Risk Mitigation
**Formula:** `Enumerate Risks â†’ Blast Radius â†’ Mitigations â†’ Monitor`

[ðŸ“– **View Detailed Guide**](../pattern_bank_answered/22_L11_risk_mitigation.csv)

---

### L12 - Metrics Interpretation
**Formula:** `Metric Moved â†’ Proxy Validity â†’ Gaming Risk â†’ Decide`

[ðŸ“– **View Detailed Guide**](../pattern_bank_answered/23_L12_metrics_interpretation.csv)

---

### L13 - SQL Reasoning
**Formula:** `Conceptual Join â†’ Aggregation Logic â†’ Filter Logic â†’ Output`

[ðŸ“– **View Detailed Guide**](../pattern_bank_answered/24_L13_sql_reasoning.csv)

---

### L14 - System Design (Conceptual)
**Formula:** `Components â†’ Data Flow â†’ Boundaries â†’ Scale Considerations`

[ðŸ“– **View Detailed Guide**](../pattern_bank_answered/25_L14_General_SystemDesign.csv)

---

## ðŸ”´ IGNORE (No Formula Needed)
**Formula:** `N/A`
**Notes:** Coding, ML theory, brain teasers, low ROI

---

## ðŸ“‘ TABLE OF CONTENTS

### ðŸŸ¢ NORTHSTAR FORMULAS (16)
- [P01 - Metric Drop Diagnosis](#p1---metric-drop-diagnosis)
- [P02 - NSM + KPI Ladder](#p2---nsm--kpi-ladder)
  - [P02A - North Star Metric](#p2a---north-star-metric)
  - [P02B1-P02B9 - KPI Ladder (by Business Model)](#p2b---kpi-ladder-by-business-model)
- [P03 - Funnel Analysis](#p3---funnel-analysis)
- [P04 - Cohort / Retention / Churn](#p4---cohort--retention--churn)
- [P05 - Segmentation](#p5---segmentation)
- [P06 - Prioritization](#p6---prioritization)
- [P07 - Tradeoff Framing](#p7---tradeoff-framing)
- [P08 - Experiment Design](#p8---experiment-design)
- [P09 - Decision Under Uncertainty](#p9---decision-under-uncertainty)
- [P10 - Executive Communication](#p10---executive-communication)
- [P11 - Stakeholder Alignment](#p11---stakeholder-alignment)
- [P12 - Operational Excellence](#p12---operational-excellence)
- [P13 - Product Design](#p13---product-design)
  - [P13A - Consumer / Single-User Products](#p13a---consumer--single-user-products)
  - [P13B - Consumer Platforms (Engagement-Driven)](#p13b---consumer-platforms-engagement-driven)
    - [P13B_Social_Community - Social/Community Platforms](#p13b_social_community---socialcommunity-platforms)
    - [P13B_Content_Media - Content/Media Platforms](#p13b_content_media---contentmedia-platforms)
    - [P13B_Travel_Transportation - Travel/Transportation Platforms](#p13b_travel_transportation---traveltransportation-platforms)
    - [P13B_Messaging_Communication - Messaging/Communication Platforms](#p13b_messaging_communication---messagingcommunication-platforms)
    - [P13B_Ecommerce_Shopping - E-commerce/Shopping Platforms](#p13b_ecommerce_shopping---e-commerceshopping-platforms)
    - [P13B_General - Consumer Platforms (General)](#p13b_general---consumer-platforms-general)
  - [P13C - B2B / SaaS / Enterprise](#p13c---b2b--saas--enterprise)
  - [P13D - Marketplace / Two-Sided Platforms](#p13d---marketplace--two-sided-platforms)
  - [P13E - Strategy / Vision / Roadmapping](#p13e---strategy--vision--roadmapping)
- [P14 - Revenue Optimization / Growth](#p14---revenue-optimization--growth)
- [P15 - Behavioral](#p15---behavioral)
  - [P15A - Personal & Motivation](#p15a---personal--motivation)
  - [P15B - Execution & Ownership](#p15b---execution--ownership)
  - [P15C - Decision-Making & Tradeoffs](#p15c---decision-making--tradeoffs)
  - [P15D - Problem Solving & Learning](#p15d---problem-solving--learning)
  - [P15E - Leadership & Collaboration](#p15e---leadership--collaboration)
  - [P15F - Product Sense (Behavioral)](#p15f---product-sense-behavioral)
- [P16 - Intent / Motivation](#p16---intent--motivation)

### ðŸŸ¡ LHF FORMULAS (14)
- [L01 - Data Trust](#l1---data-trust)
- [L02 - Scale & Capacity](#l2---scale--capacity)
- [L03 - Cost / ROI](#l3---cost--roi)
- [L04 - Constraints](#l4---constraints)
- [L05 - Observability](#l5---observability)
- [L06 - Ops Tradeoffs](#l6---ops-tradeoffs)
- [L07 - Data Modeling](#l7---data-modeling)
- [L08 - Market Analysis](#l8---market-analysis)
- [L09 - Financial Sensitivity](#l9---financial-sensitivity)
- [L10 - Process Optimization](#l10---process-optimization)
- [L11 - Risk Mitigation](#l11---risk-mitigation)
- [L12 - Metrics Interpretation](#l12---metrics-interpretation)
- [L13 - SQL Reasoning](#l13---sql-reasoning)
- [L14 - System Design (Conceptual)](#l14---system-design-conceptual)

### ðŸ”´ IGNORE
- [IGNORE](#ignore)
